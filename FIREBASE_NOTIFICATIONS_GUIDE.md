# ุฏููู ุฅุดุนุงุฑุงุช Firebase Cloud Messaging

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทุจูู ูุธุงู ุฅุดุนุงุฑุงุช ุฎูููุฉ ูุชูุงูู ูุน Google Play ุจุงุณุชุฎุฏุงู Firebase Cloud Messaging (FCM). ูุฐุง ุงููุธุงู ูุณูุญ ุจุฅุฑุณุงู ุฅุดุนุงุฑุงุช ูููุณุชุฎุฏููู ุญุชู ุนูุฏูุง ูููู ุงูุชุทุจูู ูุบููุงู.

## โ ุงููุฒุงูุง

- **ูุชูุงูู ูุน Google Play**: ูุง ูุญุชุงุฌ ุฅุฐููุงุช ุฏูููุฉ
- **ูุนูู ูู ุงูุฎูููุฉ**: ุญุชู ุนูุฏูุง ูููู ุงูุชุทุจูู ูุบูู
- **ูุฌุงูู**: ูุง ุชูุฌุฏ ุชูููุฉ ุฅุถุงููุฉ
- **ููุซูู**: ูุณุชุฎุฏู ุจููุฉ Google
- **ูุงุจู ููุชูุณุน**: ูุฏุนู ููุงููู ุงููุณุชุฎุฏููู

## ๐ง ููููุฉ ุงูุนูู

### 1. ุชุณุฌูู ุงููุณุชุฎุฏููู
- ูู ูุณุชุฎุฏู ูุญุตู ุนูู FCM Token ูุฑูุฏ
- ูุชู ุญูุธ ุงูู Token ูู SharedPreferences
- ุงููุณุชุฎุฏู ูุชู ุชุณุฌููู ูู ููุถูุน "online_players"

### 2. ุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช
- ูููู ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ูู Firebase Console
- ุฃู ูู ุฎุงุฏู ูุฎุตุต ุจุงุณุชุฎุฏุงู Firebase Admin SDK
- ุฃู ูู ุชุทุจูู ุฅุฏุงุฑุฉ ูุฎุตุต

## ๐ฑ ุงูุฅุดุนุงุฑุงุช ุงููุชุงุญุฉ

### ุฅุดุนุงุฑุงุช ุงููุนุจ ุงูุฃูููุงูู
- **ุงูููุถูุน**: `online_players`
- **ุงูุบุฑุถ**: ุชุฐููุฑ ุงููุณุชุฎุฏููู ุจุงููุนุจ ุฃูููุงูู
- **ุงูุชูููุช**: ูููู ุฌุฏููุชูุง ุญุณุจ ุงูุญุงุฌุฉ

### ุฃููุงุน ุงูุฅุดุนุงุฑุงุช
1. **ุฅุดุนุงุฑุงุช ูู ุงูุฎูููุฉ**: ุนูุฏูุง ูููู ุงูุชุทุจูู ูุบูู
2. **ุฅุดุนุงุฑุงุช ูู ุงูููุฏูุฉ**: ุนูุฏูุง ูููู ุงูุชุทุจูู ููุชูุญ
3. **ุฅุดุนุงุฑุงุช ุงูููุฑ**: ุนูุฏ ุงูููุฑ ุนูู ุงูุฅุดุนุงุฑ

## ๐ ููููุฉ ุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช

### ูู Firebase Console
1. ุงุฐูุจ ุฅูู Firebase Console
2. ุงุฎุชุฑ ูุดุฑูุนู
3. ุงุฐูุจ ุฅูู "Cloud Messaging"
4. ุงุถุบุท "Send your first message"
5. ุงุฎุชุฑ ุงูููุถูุน: `online_players`
6. ุงูุชุจ ุงูุนููุงู ูุงููุต
7. ุฃุฑุณู

### ูู ุฎุงุฏู (Python ูุซุงู)
```python
from firebase_admin import messaging
import firebase_admin
from firebase_admin import credentials

# ุชููุฆุฉ Firebase Admin
cred = credentials.Certificate('path/to/serviceAccountKey.json')
firebase_admin.initialize_app(cred)

# ุฅุฑุณุงู ุฅุดุนุงุฑ ููููุถูุน
message = messaging.Message(
    notification=messaging.Notification(
        title='ุงููุญูููู - ุงููุนุจ ุงูุฃูููุงูู ๐ฎ',
        body='ูุงุนุจูู ููุชุธุฑููู! ุชุญุฏุงูู ุงูุขู ูู ุงููุจุงุฑูุงุช ุงูุฃูููุงูู โฝ๐ฅ',
    ),
    topic='online_players',
)

response = messaging.send(message)
print('Successfully sent message:', response)
```

### ูู ุชุทุจูู ุฅุฏุงุฑุฉ (Flutter)
```dart
// ุฅุฑุณุงู ุฅุดุนุงุฑ ููููุถูุน
await FirebaseNotificationService().scheduleNotificationToUsers(
  title: 'ุงููุญูููู - ุงููุนุจ ุงูุฃูููุงูู ๐ฎ',
  body: 'ูุงุนุจูู ููุชุธุฑููู! ุชุญุฏุงูู ุงูุขู ูู ุงููุจุงุฑูุงุช ุงูุฃูููุงูู โฝ๐ฅ',
  payload: 'online',
);
```

## ๐ ุฑุณุงุฆู ุงูุฅุดุนุงุฑุงุช ุงูููุชุฑุญุฉ

### ุฑุณุงุฆู ุชุญููุฒูุฉ ููุนุจ ุงูุฃูููุงูู
1. "ูุงุนุจูู ููุชุธุฑููู! ุชุญุฏุงูู ุงูุขู ูู ุงููุจุงุฑูุงุช ุงูุฃูููุงูู โฝ๐ฅ"
2. "ูู ุฃูุช ุฌุงูุฒ ููุชุญุฏูุ ุงูุนุจ ุฃูููุงูู ูุฃุซุจุช ุฃูู ุงูุฃูุถู! ๐โฝ"
3. "ูุจุงุฑุงุฉ ุณุฑูุนุฉุ ุงูุถู ููุงุนุจูู ุงูุขู ูุงุจุฏุฃ ุงูุชุญุฏู! ๐ฏโฝ"
4. "ุฃุธูุฑ ููุงุฑุงุชู! ุชุญุฏู ูุงุนุจูู ุขุฎุฑูู ูู ูุถุน ุงูุฃูููุงูู ๐๐ฅ"
5. "ุงููุญูููู ููุชุธุฑููู! ุงูุนุจ ุฃูููุงูู ุงูุขู ูุงุฑุจุญ ุงููุฒูุฏ ูู ุงูููุงุท โฝ๐ช"
6. "ุญุงู ููุช ุงูููุงูุณุฉ! ุงูุนุจ ุฃูููุงูู ูุชุตุฏุฑ ูุงุฆูุฉ ุงููุชุตุฏุฑูู ๐โฝ"

## โ๏ธ ุงูุฅุนุฏุงุฏุงุช ุงููุทููุจุฉ

### ูู Firebase Console
1. ุชูุนูู Cloud Messaging
2. ุฅุถุงูุฉ Server Key (ุงุฎุชูุงุฑู ููุฎุงุฏู)
3. ุฅุนุฏุงุฏ Service Account (ููุฎุงุฏู)

### ูู ุงูุชุทุจูู
- โ ุชู ุฅุถุงูุฉ Firebase Cloud Messaging
- โ ุชู ุฅุถุงูุฉ ุงูุฅุฐููุงุช ุงููุทููุจุฉ
- โ ุชู ุฅุนุฏุงุฏ ูุนุงูุฌุงุช ุงูุฑุณุงุฆู
- โ ุชู ุชุณุฌูู ุงููุณุชุฎุฏููู ูู ุงูููุงุถูุน

## ๐ ุฌุฏููุฉ ุงูุฅุดุนุงุฑุงุช

### ุฅุดุนุงุฑุงุช ุฏูุฑูุฉ
ูููู ุฅุนุฏุงุฏ ุฅุดุนุงุฑุงุช ุฏูุฑูุฉ ูู:
1. **Firebase Console**: ุฌุฏููุฉ ุงูุฅุดุนุงุฑุงุช
2. **ุฎุงุฏู ูุฎุตุต**: ุจุงุณุชุฎุฏุงู cron jobs
3. **ุชุทุจูู ุฅุฏุงุฑุฉ**: ุฌุฏููุฉ ูุฎุตุตุฉ

### ูุซุงู ุนูู ุฌุฏููุฉ ููููุฉ (ุฎุงุฏู)
```bash
# ุฅุถุงูุฉ ุฅูู crontab
0 12 * * * /usr/bin/python3 /path/to/send_daily_notification.py
0 20 * * * /usr/bin/python3 /path/to/send_evening_notification.py
```

## ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก

### ูู Firebase Console
- ุนุฏุฏ ุงูุฅุดุนุงุฑุงุช ุงููุฑุณูุฉ
- ูุนุฏู ูุชุญ ุงูุฅุดุนุงุฑุงุช
- ูุนุฏู ุงูููุฑ ุนูู ุงูุฅุดุนุงุฑุงุช
- ุงูุฅุญุตุงุฆูุงุช ุญุณุจ ุงูููุทูุฉ

### ูู ุงูุชุทุจูู
- ุชุณุฌูู FCM Tokens
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ุงูุฅุดุนุงุฑุงุช
- ุชุชุจุน ุชูุงุนู ุงููุณุชุฎุฏููู

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ
1. **ูุง ุชุธูุฑ ุงูุฅุดุนุงุฑุงุช**: ุชุญูู ูู ุฅุฐู ุงูุฅุดุนุงุฑุงุช
2. **ูุง ุชุนูู ูู ุงูุฎูููุฉ**: ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุจุทุงุฑูุฉ
3. **ุฃุฎุทุงุก ูู ุงูุฎุงุฏู**: ุชุญูู ูู Server Key

### ุณุฌูุงุช ูููุฏุฉ
```dart
// ูู ุงูุชุทุจูู
print('๐ฑ FCM Token: $token');
print('๐ ุฅุฐู ุงูุฅุดุนุงุฑุงุช: ${settings.authorizationStatus}');
print('โ ุชู ุงูุงุดุชุฑุงู ูู ุงูููุถูุน: $topic');
```

## ๐ ุงูุฎูุงุตุฉ

ุงููุธุงู ุงูุฌุฏูุฏ ูููุฑ:
- โ ุฅุดุนุงุฑุงุช ุฎูููุฉ ููุซููุฉ
- โ ูุชูุงูู ูุน Google Play
- โ ุณูู ุงูุงุณุชุฎุฏุงู ูุงูุตูุงูุฉ
- โ ูุงุจู ููุชูุณุน
- โ ูุฌุงูู ูููุชูุญ ุงููุตุฏุฑ

ุงูุขู ููููู ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ูุนุงูุฉ ูููุณุชุฎุฏููู ูุชุดุฌูุนูู ุนูู ุงููุนุจ ุฃูููุงูู!
